## PUT 30000 30s 8 threads 1000 con

Сначала попробуем проверить, насколько изменилось время обработки запросов с добавлением нового кода.

```
            было        стало
 50.000%  523.78ms      7.02s
 75.000%  954.37ms      8.16s
 90.000%    1.33s       8.93s
 99.000%    1.75s       9.72s
 99.900%    2.04s       9.99s
 99.990%    2.13s       10.12s
 99.999%    2.17s       10.21s
100.000%    2.19s       10.26s
```

Время обработки значительно увеличилось. Одно из предположений: было уменьшено количество ядер для виртуалки.

## PUT 3000 30s 1 thread 1 con

В процессе анализа были выявлены недостатки работы Consistent Hashing, постоянно берется хост 
с наибольшим значением порта. Однако по перцентилям можно отметить увеличение времени обработки запроса, так как
накладываются дополнительные расходы на работу с клиентом.

```
 50.000%   19.32s 
 75.000%   23.40s 
 90.000%   26.05s 
 99.000%   27.61s 
 99.900%   27.69s 
 99.990%   27.71s 
 99.999%   27.71s 
100.000%   27.71s 
```

При анализе графа put-profile-1th-cpu.html можно заметить, что 11% ресурсов уходит на работу клиента.
Также добавляются аллокации клиента put-profile-1th-alloc.html 6%.

Также пришлось уменьшить количество потоков и соединений для проверки работоспособности.

## Улучшения
* Переработать хеш-функцию